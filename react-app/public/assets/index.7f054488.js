var L=Object.defineProperty;var N=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var y=(s,e,n)=>e in s?L(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,b=(s,e)=>{for(var n in e||(e={}))w.call(e,n)&&y(s,n,e[n]);if(N)for(var n of N(e))x.call(e,n)&&y(s,n,e[n]);return s};var l=(s,e,n)=>(y(s,typeof e!="symbol"?e+"":e,n),n);import{R as c,j as t,N as I,a as S,L as h,b as i,C as f,B as d,c as $,T as j,F as A,d as p,e as m,I as u,w as E,f as q,g as P,S as D,h as g,i as O}from"./vendor.9a277e95.js";const R=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const v of a.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&o(v)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};R();class C extends c.Component{constructor(e){super(e)}render(){return t(I,{className:"navbar-dark bgdark px-5",expand:"md",children:t(S,{tag:h,to:"/",children:"Home"})})}}class T extends c.Component{render(){return i("div",{children:[t(C,{}),t(f,{fluid:!0,children:t(d,{className:"m-5 nav bg-light",children:t(h,{to:"/inventories",className:"nav-link",children:"Manage Inventory List"})})})]})}}class _ extends c.Component{constructor(e){super(e);l(this,"removeInv",async e=>{let n=await fetch(`http://localhost:8000/api/inventory/${e}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});console.log("Remove Done!",await n.json());let o=[...this.state.inventories].filter(r=>r._id!=e);this.setState({inventories:o})});this.state={inventories:[],isLoading:!0}}componentDidMount(){this.setState({isLoading:!0}),fetch("http://localhost:8000/api/inventories").then(e=>e.json()).then(e=>{console.log(e),this.setState({inventories:e,isLoading:!1})})}render(){const{inventories:e,isLoading:n}=this.state;if(n)return t("p",{children:"Loading..."});const o=e.map(r=>i("tr",{children:[t("td",{children:r.prodname}),t("td",{children:r.qty}),t("td",{children:r.price}),t("td",{children:r.status}),t("td",{children:i($,{children:[t(d,{size:"sm",color:"primary",tag:h,to:"/inventories/"+r._id,children:"Edit"}),t(d,{size:"sm",color:"danger",onClick:()=>this.removeInv(r._id),children:"Delete"})]})})]},r._id));return i("div",{children:[t(C,{}),i(f,{fluid:!0,children:[t("div",{className:"float-right",children:t(d,{color:"success",className:"my-4",tag:h,to:"/inventories/new",children:"Add Inventory"})}),t("h3",{children:"Inventory List"}),i(j,{className:"mt-4",children:[t("thead",{children:i("tr",{children:[t("th",{width:"20%",children:"Product Name"}),t("th",{width:"15%",children:"Quantity"}),t("th",{width:"15%",children:"Price"}),t("th",{width:"15%",children:"Status"}),t("th",{width:"15%",children:"Actions"})]})}),t("tbody",{children:o})]})]})]})}}class k extends c.Component{constructor(e){super(e);l(this,"emptyInventory",{prodname:"",qty:"",price:"",status:""});l(this,"handleChange",e=>{const n=e.target,o=n.value,r=n.name;let a=b({},this.state.item);a[r]=o,this.setState({item:a})});l(this,"handleSubmit",async e=>{e.preventDefault();const{item:n}=this.state;await fetch("http://locahost:8000/api/inventory",{method:n._id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),this.props.history.push("/inventories")});this.state={item:this.emptyInventory}}async componentDidMount(){if(this.props.match.params.id!=="new"){const e=await(await fetch(`http://locahost:8000/api/inventories/${this.props.match.params.id}`)).json();console.log(e),this.setState({item:e})}}render(){const{item:e}=this.state,n=t("h2",{className:"mt-3",children:e._id?"Edit Inventory":"Add Inventory"});return i("div",{children:[t(C,{}),i(f,{children:[n,i(A,{children:[i(p,{children:[t(m,{for:"prodname",className:"h5 mt-3",children:"Product Name"}),t(u,{type:"text",name:"prodname",id:"prodname",value:e.prodname||"",onChange:this.handleChange,autoComplete:"prodname"})]}),i(p,{children:[t(m,{for:"qty",className:"h5 mt-3",children:"Quantity"}),t(u,{type:"text",name:"qty",id:"qty",value:e.qty||"",onChange:this.handleChange,autoComplete:"qty"})]}),i(p,{children:[t(m,{for:"price",className:"h5 mt-3",children:"Price"}),t(u,{type:"text",name:"price",id:"price",value:e.price||"",onChange:this.handleChange,autoComplete:"price"})]}),i(p,{children:[t(m,{for:"status",className:"h5 mt-3",children:"Status"}),t(u,{type:"text",name:"status",id:"status",value:e.status||"",onChange:this.handleChange,autoComplete:"status"})]}),i(p,{children:[t(d,{color:"primary",type:"submit",className:"mt-3",onClick:this.handleSubmit,children:"Submit"})," ",t(d,{color:"secondary",type:"submit",tag:h,to:"/inventories",className:"mt-3",children:"Cancel"})]})]})]})]})}}var B=E(k);class M extends c.Component{render(){return t(q,{children:t(P,{children:t("div",{children:i(D,{children:[t(g,{path:"/",exact:!0,component:T}),t(g,{path:"/inventories",exact:!0,component:_}),t(g,{path:"/inventories/:id",exact:!0,component:B})]})})})})}}O.render(t(c.StrictMode,{children:t(M,{})}),document.getElementById("root"));
